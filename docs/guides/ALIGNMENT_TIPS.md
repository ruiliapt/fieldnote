# 对齐效果优化指南

## 问题说明

如果你发现生成的文本看起来没有对齐，这通常是**字体**的问题，而不是程序的问题。

## ✅ 解决方案

### 方案1：在程序中查看（推荐）

程序的文本显示区域已经设置为等宽字体，对齐效果应该是最好的。

**步骤**：
1. 点击"生成对齐文本"按钮
2. **直接在程序的黑色文本框中查看效果**
3. 如果看起来对齐良好，直接复制

### 方案2：复制到Word后设置字体

复制到Word后，文本可能看起来不对齐，这是因为默认字体不是等宽字体。

**步骤**：
1. 复制文本到Word
2. **全选文本**（Ctrl+A 或 Cmd+A）
3. **设置字体为以下之一**：

   **Windows推荐字体**：
   - ✅ **Consolas**（最佳）
   - ✅ Courier New
   - ✅ Lucida Console

   **macOS推荐字体**：
   - ✅ **Menlo**（最佳）
   - ✅ Monaco
   - ✅ Courier New

   **跨平台字体**：
   - ✅ DejaVu Sans Mono
   - ✅ Liberation Mono

4. **字号建议**：10-11pt
5. **行距建议**：1.0 或 1.15

### 方案3：使用纯文本编辑器

如果Word中仍然对齐不佳，可以先在纯文本编辑器中查看：

**Windows**：
- Notepad++（设置为等宽字体）
- VS Code

**macOS**：
- TextEdit（格式 → 转换为纯文本，设置为Monaco或Menlo字体）
- VS Code
- Sublime Text

**步骤**：
1. 将文本粘贴到编辑器
2. 设置为等宽字体
3. 确认对齐正确
4. 再从编辑器复制到Word

## 🔍 为什么有些字符难以对齐？

### 上标字符（³³, ²¹, ⁵⁵）

这些音调标记是上标数字，在不同字体中的宽度处理不一致：

- **Consolas/Menlo**：处理最好，上标宽度约为普通字符的0.5
- **Courier New**：较好，但有时会有轻微偏差
- **Times New Roman等非等宽字体**：完全无法对齐

### IPA字符

国际音标（IPA）字符在某些字体中可能显示不全或宽度不准：

- ✅ 支持IPA的字体：Doulos SIL, Charis SIL, Gentium
- ❌ 不完全支持：标准系统字体

## 📝 录入建议

为了获得最佳对齐效果：

### ✅ 正确格式

```
原文：ŋo³³ a²¹ ta⁵⁵ je²¹-xu⁵⁵ xa³³
注释：1.SG also with 3.SG-PL say

原文：我 昨天 去 了 北京
注释：1SG yesterday go PERF Beijing
```

**要点**：
- 用**单个空格**分隔每个词
- 原文和注释的**词数必须相同**
- 每个原文词对应一个注释词

### ❌ 错误格式

```
原文：ŋo³³a²¹ta⁵⁵（无空格）
原文：我  昨天   去（多个空格）
原文：我昨天去（无分词）
```

## 🧪 测试对齐效果

可以用以下示例测试：

```
(TEST)
    ŋo³³  a²¹  ta⁵⁵  je²¹  xa³³  
    1.SG  also  with  3SG   say   
    'I also talked with him.'
```

**检查要点**：
1. `ŋo³³` 和 `1.SG` 垂直对齐
2. `a²¹` 和 `also` 垂直对齐
3. 每列之间有清晰的间距

## 💡 最佳实践

### 在程序中

1. **字号**：11pt（已自动设置）
2. **字体**：自动选择最佳等宽字体
3. **显示区域**：黑色背景，白色文字，便于查看对齐

### 在Word中

1. **字体**：Consolas（Windows）或 Menlo（Mac）
2. **字号**：10-11pt
3. **行距**：1.0（单倍行距）
4. **段落间距**：段后6-12pt

### 在论文中

如果是学术论文，建议：

1. **使用LaTeX**：
   ```latex
   \begin{exe}
   \ex 
   \gll ŋo³³ a²¹ ta⁵⁵ je²¹-xu⁵⁵ xa³³\\
        1.SG also with 3.SG-PL say\\
   \glt 'I also talked with them.'
   \end{exe}
   ```

2. **Word中使用专业字体**：
   - Doulos SIL（IPA支持最好）
   - Charis SIL
   - 配合等宽字体使用

## ❓ 常见问题

### Q: 为什么有的词对齐了，有的没有？

**A**: 检查是否：
- 使用了等宽字体
- 所有词都用单个空格分隔
- 没有多余的空格或Tab字符

### Q: Word中复制后格式乱了？

**A**: 
1. 使用"选择性粘贴" → "无格式文本"
2. 然后手动设置为等宽字体

### Q: 能不能让程序自动处理对齐？

**A**: 
- **文本格式**：程序已经处理了对齐，但依赖于字体
- **Word导出**：使用透明表格，每个词一个单元格，确保对齐

### Q: 上标数字总是对不齐？

**A**: 
- 上标字符宽度在不同字体中不一致
- 建议使用Consolas（Windows）或Menlo（Mac）
- 或者在录入时避免使用上标，改用普通数字：`ŋo33` 而不是 `ŋo³³`

## 🎯 推荐工作流程

### 流程1：直接使用（最简单）

```
录入数据 → 生成文本 → 在程序中确认对齐 → 复制到Word → 设置等宽字体
```

### 流程2：Word导出（最精确）

```
录入数据 → 导出到Word文档 → 打开Word → 每个词自动对齐（透明表格）
```

### 流程3：论文写作（专业）

```
录入数据 → 生成文本 → 复制到专业编辑器 → 设置IPA字体 → 插入论文
```

---

**提示**：如果仍有问题，请检查系统中是否安装了推荐的等宽字体。大多数系统都预装了Courier New，但Consolas或Menlo的对齐效果更好。

